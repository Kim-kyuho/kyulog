---
id: "1748353264491"
title: "ブログ運営とデータベース導入に関する検討記録"
date: "2025-05-27 22:41:04"
summary: "DB導入"
category: "Dev"
tags:
  - "dev"
  - "database"
---

### 📝 現状の構成
- Markdown 形式で `/posts` フォルダに記事を保存
- `generate-posts-json.ts` によりメタデータを抽出し `posts.json` を作成
- クライアント側 (`Search.tsx`) で `posts.json` をfetchして検索・フィルターを実行
- UI は Next.js + React + Tailwind CSS

### ✅ この構成のメリット
- **軽量・無料**：GitHub + Vercel を使えば完全無料運営が可能
- **高速**：静的サイトとしてビルド・表示が高速
- **Git でバージョン管理が可能**
- **開発者向けに直感的で管理しやすい**

### ⚠️ 懸念点・スケーラビリティ
- 投稿数が **100件以上** になると(見積もり)：
  - `posts.json` サイズ増大
  - フィルタ処理・検索が **クライアントで重くなる**
  - **ビルド時間が長くなる**
  - データ量が増えるほど**DBへの移行**が面倒になりそう。。
- コメント・いいね・ビュー数など **動的要素が必要になると対応しづらい**

### 🔍 一時期考えたこと
- Supabase / Firebase / PlanetScale などの **クラウドDB導入**を検討
- ただし：
  - データの移行が手間そう…
  - 無料プランでどこまで使えるか不安
  - まだ小規模なのに有料に移行する必要ある？？
  - **「使わなくてもいいなら使いたくない」** という気持ち

### 🎯 結論（2025年時点）
- 今は Markdown ベースで十分足りている
- 投稿数が数百件を超えるまでは、現構成で維持する
- **マークダウン構造を整えておくことで、将来的に DB 移行も可能にする：**
  - Frontmatter の統一
  - slug やカテゴリ、タグの整理
  - `generate-posts-json.ts` のロジックは **そのまま DBへのインサート処理に流用可能**
  - つまり！データ量は増えてもDBへ移行はそんな手間がかかる作業では無いという判断。。

### 🔧 今後に向けた備え
- 画像などはローカルではなく外部URLにする
- `posts.json` をキャッシュして読み込みを最小限にする
- サイトの検索やタグ一覧機能を徐々に強化
- 必要になったら、段階的に DB構成へマイグレーション可能な設計を意識

### 🚀 いつDBに移行するべきか？

| 条件 | 検討する目安 |
|------|--------------|
| 投稿数が200〜300件以上 | 🔸 JSONでは管理しづらくなる |
| 動的機能が欲しくなった時 | 🔸 コメント、いいね、通知など |
| 複数人で記事管理したい時 | 🔸 UI経由で投稿できるように |

---

> 「今はシンプルな仕組みで

着実に育てて、必要なときにだけ段階的に拡張する」

この判断は、規模とコスト、開発リソースを考えた **最適解** だと感じている。

今後も成長に応じて柔軟に進化できるように備えておくことが大事！

![image](https://raw.githubusercontent.com/Kim-kyuho/Kim-kyuho.github.io/master/public/blog-images/SU1HXzYxNjEuanBl.jpeg)